(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"1JN+":function(l,n,e){"use strict";var t=e("CcnG"),u=e("52Ja"),r=e("GhNK"),o=e("yp/V"),a=e("RIue"),i=function(){function l(l,n){this.revenueService=l,this.translateService=n,this.totalItemsSold=0}return l.prototype.ngOnChanges=function(l){l.sku&&l.sku.currentValue&&(this.setChartConfig(),this.render(new a.a))},l.prototype.ngOnDestroy=function(){this.revenue$&&this.revenue$.unsubscribe()},l.prototype.onChartChange=function(l){this.render(l)},l.prototype.onChartReset=function(){this.setChartConfig()},l.prototype.render=function(l){var n=this;this.setChartConfig(),this.revenue$=this.revenueService.getMyRevenues(this.sku,l.fromDate,l.toDate).subscribe(function(l){n.loadData(l)},function(l){return n.errorHandler(l)})},l.prototype.loadData=function(l){for(var n=0,e=l;n<e.length;n++){var t=e[n],u=1;this.numberItemSold.x.unshift(t.reportDate),t.totalItems?(this.numberItemSold.y.unshift(t.totalItems),this.totalItemsSold+=t.totalItems):this.numberItemSold.y.unshift(0),this.quantityInStock.y.unshift(t.quantityPending),this.quantityInStock.x.unshift(t.reportDate),this.quantityInStock.marker.color.push(u++)}},l.prototype.errorHandler=function(l){},l.prototype.setChartConfig=function(){this.quantityInStock={x:[],y:[],name:this.translateService.instant("INVENTORY.FORECAST_CHART.QUANTITY_IN_STOCK"),mode:"lines+markers",type:"scatter",marker:{color:[]}},this.numberItemSold={x:[],y:[],name:this.translateService.instant("INVENTORY.FORECAST_CHART.ITEM_SOLD"),mode:"lines+markers",yaxis:"y2",type:"scatter"},this.data=[this.quantityInStock,this.numberItemSold],this.layout={font:{family:"Rubik"},title:{font:{size:24}},yaxis:{title:this.translateService.instant("INVENTORY.FORECAST_CHART.QUANTITY_IN_STOCK"),rangemode:"tozero",fixedrange:!0},yaxis2:{title:this.translateService.instant("INVENTORY.FORECAST_CHART.NUMBER_OF_ITEM_SOLD"),fixedrange:!0,titlefont:{color:"rgb(148, 103, 189)"},tickfont:{color:"rgb(148, 103, 189)"},overlaying:"y",side:"right"}}},l}(),s=e("A7o+"),d=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-chart",[],null,[[null,"chartChange"],[null,"chartReset"]],function(l,n,e){var t=!0,u=l.component;return"chartChange"===n&&(t=!1!==u.onChartChange(e)&&t),"chartReset"===n&&(t=!1!==u.onChartReset()&&t),t},u.b,u.a)),t["\u0275did"](1,49152,null,0,r.a,[],{data:[0,"data"],layout:[1,"layout"],showCurrency:[2,"showCurrency"]},{chartChange:"chartChange",chartReset:"chartReset"})],function(l,n){var e=n.component;l(n,1,0,e.data,e.layout,!1)},null)}var p=e("hJYS"),h=e("dw3/"),m=e("wd/R"),f=e.n(m),g=e("VNr4"),v=e("SbwZ"),y=function(){function l(l,n){this.revenueService=l,this.saleService=n,this.data=[]}return l.prototype.ngOnInit=function(){this.setChartConfig()},l.prototype.ngOnChanges=function(l){l.sku&&l.sku.currentValue&&this.render(new a.a)},l.prototype.ngOnDestroy=function(){this.forkRevenue$&&this.forkRevenue$.unsubscribe()},l.prototype.onChartChange=function(l){this.render(l)},l.prototype.onChartReset=function(){this.setChartConfig()},l.prototype.render=function(l){var n=this;this.setChartConfig(),this.forkRevenue$=Object(g.a)([this.revenueService.getMySales(this.sku,l.fromDate,l.toDate,this.market,this.isRegion,this.allCombined),this.saleService.getMySkuSalesForecast(this.sku,l.fromDate,l.toDate,this.market,this.isRegion,this.allCombined)]).subscribe(function(l){n.itemsSold=l[0],n.itemsSales=l[1],n.loadData(l),n.calcItemsSold(l[0]),n.calcItemSales(l[1])})},l.prototype.loadData=function(l){var n=l[0],e=l[1];n.length&&this.loadItemSold(n),e.length&&(this.loadSaleForecast(e),this.loadSaleWeekly(e),this.loadSaleMonthly(e),this.showAnnotationSpecialDays(e))},l.prototype.loadItemSold=function(l){for(var n=0,e=l;n<e.length;n++){var t=e[n];this.itemSoldConfig.x.push(t.reportDate),this.itemSoldConfig.y.push(t.totalItems)}},l.prototype.loadSaleForecast=function(l){var n=this;l.forEach(function(l){n.saleForecastConfig.x.push(l.recorddate),n.saleForecastConfig.y.push(Math.round(l.forecastValue))})},l.prototype.loadSaleWeekly=function(l){var n=this;l.forEach(function(l,e){var t=0;"1"!==f()(l.recorddate,"YYYY-MM-DD").format("D")||t||(t=e),e<7&&(n.saleWeekly.x.push(f()(l.recorddate).format("dddd")),n.saleWeekly.y.push(l.weekly))})},l.prototype.loadSaleMonthly=function(l){var n=this;l.forEach(function(l,e){e<29&&(n.saleMonthly.x.push(f()(l.recorddate).format("YYYY-MM-DD")),n.saleMonthly.y.push(l.monthly))})},l.prototype.setChartConfig=function(){this.layout={title:{font:{size:24}},font:{family:"Rubik"},annotations:[],xaxis:{domain:[0,1],archor:"y1"},yaxis:{title:"Unit Sales",fixedrange:!0,titlefont:{color:"#1f77b4"},tickfont:{color:"#1f77b4"},archor:"x1",domain:[.5,1]},xaxis2:{title:"Weekly Trend",domain:[0,.45],anchor:"y2"},yaxis2:{domain:[0,.3],anchor:"x2",fixedrange:!0},xaxis3:{title:"Monthly Trend",domain:[.55,1],anchor:"y3"},yaxis3:{domain:[0,.3],anchor:"x3",fixedrange:!0}},this.itemSoldConfig={type:"scatter",x:[],y:[],mode:"lines",name:"Items Sold",line:{color:"rgb(55, 128, 191)",width:3},xaxis:"x1",yaxis:"y1"},this.saleForecastConfig={type:"scatter",x:[],y:[],mode:"lines",name:"Sales Forecast",line:{color:"rgb(37, 232, 111)",width:1,dash:"dot"},xaxis:"x1",yaxis:"y1"},this.saleWeekly={type:"scatter",x:[],y:[],mode:"lines",name:"Weekly Trend",line:{color:"rgb(120, 112, 47)",width:3},xaxis:"x2",yaxis:"y2"},this.saleMonthly={type:"scatter",x:[],y:[],mode:"lines",name:"Monthly Trend",line:{color:"rgb(133, 228, 199)",width:3},xaxis:"x3",yaxis:"y3"},this.data=[this.itemSoldConfig,this.saleForecastConfig,this.saleWeekly,this.saleMonthly]},l.prototype.showAnnotationSpecialDays=function(l){var n=this;l.forEach(function(l){if("None"!==l.holiday&&"null"!==l.holiday&&null!==l.holiday){var e={x:null,y:null,xref:"x1",yref:"y1",text:"",showarrow:!0,arrowhead:7,ax:0,ay:-40};e.x=l.recorddate,e.y=l.forecastValue.toFixed(0),e.text=l.holiday,n.layout.annotations.push(e)}})},l.prototype.calcItemsSold=function(l){l.length&&(this.actualItemSoldReport={title:"Item Sold",from:l[0].reportDate,to:l[l.length-1].reportDate,total:l.reduce(function(l,n){return l+n.totalItems},0).toFixed(0)})},l.prototype.calcItemSales=function(l){l.length&&(this.forecastItemSalesReport={title:"Forecasted Sales",from:l[0].recorddate,to:l[l.length-1].recorddate,total:l.reduce(function(l,n){return l+n.forecastValue},0).toFixed(0)})},l}(),C=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-total-summary",[],null,null,null,p.b,p.a)),t["\u0275did"](1,49152,null,0,h.a,[],{firstBlockData:[0,"firstBlockData"],firstBlockIsShow:[1,"firstBlockIsShow"],secondBlockData:[2,"secondBlockData"],secondBlockIsShow:[3,"secondBlockIsShow"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,"app-chart",[],null,[[null,"chartChange"],[null,"chartReset"]],function(l,n,e){var t=!0,u=l.component;return"chartChange"===n&&(t=!1!==u.onChartChange(e)&&t),"chartReset"===n&&(t=!1!==u.onChartReset()&&t),t},u.b,u.a)),t["\u0275did"](3,49152,null,0,r.a,[],{data:[0,"data"],layout:[1,"layout"],showCurrency:[2,"showCurrency"]},{chartChange:"chartChange",chartReset:"chartReset"})],function(l,n){var e=n.component;l(n,1,0,e.actualItemSoldReport,e.itemsSold&&e.itemsSold.length,e.forecastItemSalesReport,e.itemsSales&&e.itemsSales.length),l(n,3,0,e.data,e.layout,!1)},null)}var k=e("KDE6");e.d(n,"a",function(){return O});var R=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function w(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h4",[["class","card-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Inventory Forecast"])),(l()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"app-inventory-forecast",[],null,null,null,c,d)),t["\u0275did"](7,704512,null,0,i,[o.a,s.i],{sku:[0,"sku"]},null),(l()(),t["\u0275eld"](8,0,null,null,9,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"h4",[["class","card-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Units Sales"])),(l()(),t["\u0275eld"](12,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Actual vs Forecast"])),(l()(),t["\u0275eld"](14,0,null,null,3,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"app-sale-forecast",[],null,null,null,b,C)),t["\u0275did"](17,770048,null,0,y,[o.a,v.a],{sku:[0,"sku"],market:[1,"market"],isRegion:[2,"isRegion"],allCombined:[3,"allCombined"]},null)],function(l,n){var e=n.component;l(n,7,0,e.selectedSku),l(n,17,0,e.selectedSku,e.selectedMarket,e.isRegion,e.allCombined)},null)}function S(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-sku-analytic-details-modal",[],null,null,null,w,R)),t["\u0275did"](1,49152,null,0,k.a,[],null,null)],null,null)}var O=t["\u0275ccf"]("app-sku-analytic-details-modal",k.a,S,{},{},[])},"2bFs":function(l,n,e){"use strict";var t=e("CcnG"),u=e("gIcY"),r=e("Ip0R"),o=e("iMlt"),a=e("4GxJ"),i=e("mB2O"),s=e("SZbH");e.d(n,"a",function(){return m});var d=t["\u0275crt"]({encapsulation:0,styles:[[".calc-button[_ngcontent-%COMP%]{margin-top:33px}"]],data:{}});function c(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,79,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" SKU inventory details"])),(l()(),t["\u0275eld"](4,0,null,null,70,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,69,"div",[["class","form-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,44,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,10,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Cycle Time"])),(l()(),t["\u0275eld"](11,0,null,null,6,"input",[["class","form-control"],["name","cycleTime"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var u=!0,r=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,12)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,12).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,12)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,12)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["\u0275nov"](l,13).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,13).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,13).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(r.product.cycleTime=e)&&u),u},null,null)),t["\u0275did"](12,16384,null,0,u.c,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275did"](13,16384,null,0,u.y,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,u.k,function(l,n){return[l,n]},[u.c,u.y]),t["\u0275did"](15,671744,null,0,u.p,[[2,u.b],[8,null],[8,null],[6,u.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,u.l,null,[u.p]),t["\u0275did"](17,16384,null,0,u.m,[[4,u.l]],null,null),(l()(),t["\u0275eld"](18,0,null,null,10,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Lead Time"])),(l()(),t["\u0275eld"](22,0,null,null,6,"input",[["class","form-control"],["name","leadTime"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var u=!0,r=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,23)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,23).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,23)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,23)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["\u0275nov"](l,24).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,24).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,24).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(r.product.leadTime=e)&&u),u},null,null)),t["\u0275did"](23,16384,null,0,u.c,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275did"](24,16384,null,0,u.y,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,u.k,function(l,n){return[l,n]},[u.c,u.y]),t["\u0275did"](26,671744,null,0,u.p,[[2,u.b],[8,null],[8,null],[6,u.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,u.l,null,[u.p]),t["\u0275did"](28,16384,null,0,u.m,[[4,u.l]],null,null),(l()(),t["\u0275eld"](29,0,null,null,10,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Safety Stock"])),(l()(),t["\u0275eld"](33,0,null,null,6,"input",[["class","form-control"],["name","safetyStock"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var u=!0,r=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,34)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,34).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,34)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,34)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["\u0275nov"](l,35).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,35).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,35).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(r.product.safetyStock=e)&&u),u},null,null)),t["\u0275did"](34,16384,null,0,u.c,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275did"](35,16384,null,0,u.y,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,u.k,function(l,n){return[l,n]},[u.c,u.y]),t["\u0275did"](37,671744,null,0,u.p,[[2,u.b],[8,null],[8,null],[6,u.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,u.l,null,[u.p]),t["\u0275did"](39,16384,null,0,u.m,[[4,u.l]],null,null),(l()(),t["\u0275eld"](40,0,null,null,10,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Shipping Time"])),(l()(),t["\u0275eld"](44,0,null,null,6,"input",[["class","form-control"],["name","shippingDuration"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var u=!0,r=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,45)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,45).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,45)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,45)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["\u0275nov"](l,46).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,46).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,46).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(r.product.shippingDuration=e)&&u),u},null,null)),t["\u0275did"](45,16384,null,0,u.c,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275did"](46,16384,null,0,u.y,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,u.k,function(l,n){return[l,n]},[u.c,u.y]),t["\u0275did"](48,671744,null,0,u.p,[[2,u.b],[8,null],[8,null],[6,u.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,u.l,null,[u.p]),t["\u0275did"](50,16384,null,0,u.m,[[4,u.l]],null,null),(l()(),t["\u0275eld"](51,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,10,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](54,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Buying Price"])),(l()(),t["\u0275eld"](56,0,null,null,6,"input",[["class","form-control"],["name","sourcingCost"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var u=!0,r=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,57)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,57).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,57)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,57)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["\u0275nov"](l,58).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,58).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,58).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(r.product.sourcingCost=e)&&u),u},null,null)),t["\u0275did"](57,16384,null,0,u.c,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275did"](58,16384,null,0,u.y,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,u.k,function(l,n){return[l,n]},[u.c,u.y]),t["\u0275did"](60,671744,null,0,u.p,[[2,u.b],[8,null],[8,null],[6,u.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,u.l,null,[u.p]),t["\u0275did"](62,16384,null,0,u.m,[[4,u.l]],null,null),(l()(),t["\u0275eld"](63,0,null,null,11,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](64,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](65,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Marketplace Selling Fees"])),(l()(),t["\u0275eld"](67,0,null,null,7,"input",[["class","form-control"],["name","sellingFees"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var u=!0,r=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,68)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,68).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,68)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,68)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["\u0275nov"](l,69).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,69).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,69).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(r.product.sellingFees=e)&&u),u},null,null)),t["\u0275did"](68,16384,null,0,u.c,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275did"](69,16384,null,0,u.y,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,u.k,function(l,n){return[l,n]},[u.c,u.y]),t["\u0275did"](71,671744,null,0,u.p,[[2,u.b],[8,null],[8,null],[6,u.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275ppd"](72,1),t["\u0275prd"](2048,null,u.l,null,[u.p]),t["\u0275did"](74,16384,null,0,u.m,[[4,u.l]],null,null),(l()(),t["\u0275eld"](75,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](76,0,null,null,1,"button",[["class","btn btn-primary btn-raised"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSave()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Save"])),(l()(),t["\u0275eld"](78,0,null,null,1,"button",[["class","btn btn-secondary btn-raised"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.activeModal.close()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Cancel"]))],function(l,n){var e=n.component;l(n,15,0,"cycleTime",e.product.cycleTime),l(n,26,0,"leadTime",e.product.leadTime),l(n,37,0,"safetyStock",e.product.safetyStock),l(n,48,0,"shippingDuration",e.product.shippingDuration),l(n,60,0,"sourcingCost",e.product.sourcingCost);var u=t["\u0275unv"](n,71,1,l(n,72,0,t["\u0275nov"](n.parent,0),e.product.sellingFees));l(n,71,0,"sellingFees",u)},function(l,n){l(n,11,0,t["\u0275nov"](n,17).ngClassUntouched,t["\u0275nov"](n,17).ngClassTouched,t["\u0275nov"](n,17).ngClassPristine,t["\u0275nov"](n,17).ngClassDirty,t["\u0275nov"](n,17).ngClassValid,t["\u0275nov"](n,17).ngClassInvalid,t["\u0275nov"](n,17).ngClassPending),l(n,22,0,t["\u0275nov"](n,28).ngClassUntouched,t["\u0275nov"](n,28).ngClassTouched,t["\u0275nov"](n,28).ngClassPristine,t["\u0275nov"](n,28).ngClassDirty,t["\u0275nov"](n,28).ngClassValid,t["\u0275nov"](n,28).ngClassInvalid,t["\u0275nov"](n,28).ngClassPending),l(n,33,0,t["\u0275nov"](n,39).ngClassUntouched,t["\u0275nov"](n,39).ngClassTouched,t["\u0275nov"](n,39).ngClassPristine,t["\u0275nov"](n,39).ngClassDirty,t["\u0275nov"](n,39).ngClassValid,t["\u0275nov"](n,39).ngClassInvalid,t["\u0275nov"](n,39).ngClassPending),l(n,44,0,t["\u0275nov"](n,50).ngClassUntouched,t["\u0275nov"](n,50).ngClassTouched,t["\u0275nov"](n,50).ngClassPristine,t["\u0275nov"](n,50).ngClassDirty,t["\u0275nov"](n,50).ngClassValid,t["\u0275nov"](n,50).ngClassInvalid,t["\u0275nov"](n,50).ngClassPending),l(n,56,0,t["\u0275nov"](n,62).ngClassUntouched,t["\u0275nov"](n,62).ngClassTouched,t["\u0275nov"](n,62).ngClassPristine,t["\u0275nov"](n,62).ngClassDirty,t["\u0275nov"](n,62).ngClassValid,t["\u0275nov"](n,62).ngClassInvalid,t["\u0275nov"](n,62).ngClassPending),l(n,67,0,t["\u0275nov"](n,74).ngClassUntouched,t["\u0275nov"](n,74).ngClassTouched,t["\u0275nov"](n,74).ngClassPristine,t["\u0275nov"](n,74).ngClassDirty,t["\u0275nov"](n,74).ngClassValid,t["\u0275nov"](n,74).ngClassInvalid,t["\u0275nov"](n,74).ngClassPending)})}function p(l){return t["\u0275vid"](0,[t["\u0275pid"](0,r.DecimalPipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,3).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,3).onReset()&&u),u},null,null)),t["\u0275did"](2,16384,null,0,u.z,[],null,null),t["\u0275did"](3,4210688,null,0,u.o,[[8,null],[8,null]],null,null),t["\u0275prd"](2048,null,u.b,null,[u.o]),t["\u0275did"](5,16384,null,0,u.n,[[4,u.b]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,c)),t["\u0275did"](7,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,7,0,n.component.product)},function(l,n){l(n,1,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending)})}function h(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-expenditure-modal",[],null,null,null,p,d)),t["\u0275did"](1,245760,null,0,o.a,[a.d,i.a,s.j],null,null)],function(l,n){l(n,1,0)},null)}var m=t["\u0275ccf"]("app-expenditure-modal",o.a,h,{},{},[])},"52Ja":function(l,n,e){"use strict";var t=e("CcnG"),u=e("gMr2"),r=e("QpxQ"),o=e("gIcY"),a=e("G2DD"),i=t["\u0275crt"]({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{width:130px}.container[_ngcontent-%COMP%]   .symbol[_ngcontent-%COMP%]{border-radius:50%;border:1px solid;width:25px}"]],data:{}});function s(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","symbol d-inline-block mr-1 text-center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""]))],null,function(l,n){l(n,1,0,n.context.item.symbol),l(n,3,0,n.context.item.code)})}function d(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,21,"div",[["class","container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,20,"ng-select",[["class","ng-select"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],function(l,n,e){var u=!0,r=l.component;return"keydown"===n&&(u=!1!==t["\u0275nov"](l,3).handleKeyDown(e)&&u),"ngModelChange"===n&&(u=!1!==(r.current=e)&&u),"ngModelChange"===n&&(u=!1!==r.onChange(e)&&u),u},u.b,u.a)),t["\u0275prd"](4608,null,r.f,r.f,[]),t["\u0275did"](3,4964352,null,12,r.a,[[8,null],[8,null],[8,null],r.b,r.d,t.ElementRef,t.ChangeDetectorRef,r.j],{bindLabel:[0,"bindLabel"],searchable:[1,"searchable"],clearable:[2,"clearable"],items:[3,"items"]},null),t["\u0275qud"](335544320,1,{optionTemplate:0}),t["\u0275qud"](335544320,2,{optgroupTemplate:0}),t["\u0275qud"](335544320,3,{labelTemplate:0}),t["\u0275qud"](335544320,4,{multiLabelTemplate:0}),t["\u0275qud"](335544320,5,{headerTemplate:0}),t["\u0275qud"](335544320,6,{footerTemplate:0}),t["\u0275qud"](335544320,7,{notFoundTemplate:0}),t["\u0275qud"](335544320,8,{typeToSearchTemplate:0}),t["\u0275qud"](335544320,9,{loadingTextTemplate:0}),t["\u0275qud"](335544320,10,{tagTemplate:0}),t["\u0275qud"](335544320,11,{loadingSpinnerTemplate:0}),t["\u0275qud"](603979776,12,{ngOptions:1}),t["\u0275prd"](1024,null,o.k,function(l){return[l]},[r.a]),t["\u0275did"](17,671744,null,0,o.p,[[8,null],[8,null],[8,null],[6,o.k]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,o.l,null,[o.p]),t["\u0275did"](19,16384,null,0,o.m,[[4,o.l]],null,null),(l()(),t["\u0275and"](0,[[1,2]],null,1,null,s)),t["\u0275did"](21,16384,null,0,r.g,[t.TemplateRef],null,null)],function(l,n){var e=n.component;l(n,3,0,"code",!1,!1,e.currencies),l(n,17,0,e.current)},function(l,n){l(n,1,1,[!t["\u0275nov"](n,3).multiple,t["\u0275nov"](n,3).typeahead,t["\u0275nov"](n,3).multiple,t["\u0275nov"](n,3).addTag,t["\u0275nov"](n,3).searchable,t["\u0275nov"](n,3).clearable,t["\u0275nov"](n,3).isOpen,t["\u0275nov"](n,3).disabled,t["\u0275nov"](n,3).filtered,t["\u0275nov"](n,19).ngClassUntouched,t["\u0275nov"](n,19).ngClassTouched,t["\u0275nov"](n,19).ngClassPristine,t["\u0275nov"](n,19).ngClassDirty,t["\u0275nov"](n,19).ngClassValid,t["\u0275nov"](n,19).ngClassInvalid,t["\u0275nov"](n,19).ngClassPending])})}var c=e("y3k7"),p=e("zaWK"),h=e("4GxJ"),m=e("Ip0R"),f=e("hVfA"),g=e("NZo1");e("GhNK"),e.d(n,"a",function(){return v}),e.d(n,"b",function(){return C});var v=t["\u0275crt"]({encapsulation:0,styles:[[".filter[_ngcontent-%COMP%]{display:flex}.filter[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{margin-left:auto}"]],data:{}});function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","currency-dropdown"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"app-currency-dropdown",[],null,[[null,"currencyChange"]],function(l,n,e){var t=!0;return"currencyChange"===n&&(t=!1!==l.component.onCurrencyChange(e)&&t),t},d,i)),t["\u0275did"](2,114688,[[1,4]],0,a.a,[],null,{currencyChange:"currencyChange"})],function(l,n){l(n,2,0)},null)}function C(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{currencyComponent:0}),t["\u0275qud"](402653184,2,{datepicker:0}),(l()(),t["\u0275eld"](2,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,7,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,6,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"app-range-date-picker",[],null,[[null,"selectedRange"]],function(l,n,e){var t=!0;return"selectedRange"===n&&(t=!1!==l.component.onSelectedRange(e)&&t),t},c.b,c.a)),t["\u0275did"](6,49152,[[2,4]],0,p.a,[h.i],null,{selectedRange:"selectedRange"}),(l()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](8,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](9,0,null,null,1,"button",[["class","btn btn-raised btn-warning reset"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reset()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Reset"])),(l()(),t["\u0275eld"](11,0,null,null,3,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"plotly-plot",[],null,[[null,"relayout"]],function(l,n,e){var t=!0;return"relayout"===n&&(t=!1!==l.component.onRelayout(e)&&t),t},f.b,f.a)),t["\u0275prd"](512,null,g.c,g.c,[]),t["\u0275did"](14,1032192,null,0,g.a,[g.c,t.IterableDiffers,t.KeyValueDiffers],{data:[0,"data"],layout:[1,"layout"]},{relayout:"relayout"})],function(l,n){var e=n.component;l(n,8,0,e.showCurrency),l(n,14,0,e.data,e.layout)},function(l,n){l(n,9,0,!n.component.changed)})}},Flr7:function(l,n,e){"use strict";e.d(n,"a",function(){return h});var t=e("Ip0R"),u=e("wd/R"),r=e.n(u),o=e("vKop"),a=e("UKXh"),i=e("KDE6"),s=e("xcmv"),d=e("faHK"),c=e("zKJm"),p=(e("qrmX"),e("mB2O"),e("iMlt")),h=function(){function l(l,n,e,t){this.productService=l,this.translateService=n,this.ngbModal=e,this.marketplaceService=t,this.isRegion=!1,this.allCombined=!1}return l.prototype.ngOnInit=function(){this.columnDefs=[{headerName:"Edit Sku Parameters",width:50,filter:!1,sortable:!1,cellRenderer:"editRenderer"},{headerName:"View Details",width:50,filter:!1,sortable:!1,cellRenderer:"viewDetailsRenderer"},{headerName:this.translateService.instant("COMMON.IMAGE"),field:"imageUrl",width:50,filter:!1,sortable:!1,cellRenderer:this.imageCellRenderer},{headerName:this.translateService.instant("COMMON.TITLE"),field:"productTitle",filter:"agTextColumnFilter",width:250,filterParams:{filterOptions:["equals","contains"],newRowsAction:"keep",suppressAndOrCondition:!0},cellRenderer:this.titleCellRenderer,onCellClicked:this.viewDetailsModal.bind(this)},{headerName:this.translateService.instant("COMMON.SKU"),field:"sku",filter:"agTextColumnFilter",filterParams:{filterOptions:["equals","contains"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Produt ID/ASIN",field:"productId",filter:"agTextColumnFilter",filterParams:{filterOptions:["equals","contains"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:this.translateService.instant("COMMON.CURRENCY"),field:"currency",filter:"agTextColumnFilter",filterParams:{filterOptions:["equals","contains"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"30 day sales",field:"day30sales",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"60 day sales",field:"day60sales",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"90 day sales",field:"day90sales",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Cognitive Forecast",field:"selfCluster",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},sortable:!0,hide:!0},{headerName:"Potential Sales (Global)",field:"totalCluster",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},sortable:!0,hide:!0},{headerName:"Forecast Method",field:"forecastType",filter:"agTextColumnFilter",filterParams:{filterOptions:["equals","contains"],newRowsAction:"keep",suppressAndOrCondition:!0},sortable:!0,hide:!0},{headerName:"Current cycle sales",field:"recentPeriodSales",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Previous cycle sales",field:"previousPeriodSales",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Sales predicted for next cycle",field:"predictedSales",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Current cycle revenue",field:"currentEarning",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Previous cycle revenue",field:"previousEarning",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Future cycle revenue",field:"forecastRevenue",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:this.translateService.instant("INVENTORY.REPLENISHMENT.SALE_RATE"),field:"salesRate",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Previous Sales Velocity",field:"previousSalesRate",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:this.translateService.instant("INVENTORY.REPLENISHMENT.SALE_TREND"),field:"salesTrend",cellRenderer:this.salesTrendCellRenderer,filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Last year sales",field:"lastYearSales",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Sales Velocity vs Last Year",field:"lastYearRate",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Sales Trend vs Last Year",field:"lastYearTrend",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:this.translateService.instant("INVENTORY.REPLENISHMENT.REORDER_DATE"),field:"dateOfReorder",filter:!1,cellRenderer:this.reOrderDateCellRender.bind(this)},{headerName:"Out of stock date",field:"outOfStockDate",filter:!1,cellRenderer:this.reOrderDateCellRender.bind(this),hide:!0},{headerName:this.translateService.instant("INVENTORY.REPLENISHMENT.QUANTITY_IN_STOCK"),field:"inventoryQuantity",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Recommended quantity",field:"recommendedStocking",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Recommended Reorder Now",field:"recommendedStockingNow",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Days of Inventory Left",field:"dayOfInventoryLeft",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Report generated date",field:"reportTime",cellRenderer:this.reportDateRender.bind(this),filter:!1,hide:!0}],this.frameworkComponents={viewDetailsRenderer:o.a,editRenderer:a.a},this.context={componentParent:this},this.selectedMarket=this.marketplaceService.getCurrentMarket()},l.prototype.onGridReady=function(l){this.gridApi=l.api,this.columnApi=l.columnApi,this.gridApi.setServerSideDatasource(this.createDatasource(this.productService,this.selectedMarket));var n=JSON.parse(localStorage.getItem(c.a.RESTOCK));n&&this.columnApi.setColumnState(n)},l.prototype.exportExcel=function(){this.gridApi.exportDataAsExcel()},l.prototype.viewDetailsModal=function(l){if(l.data&&l.data.sku){var n=this.ngbModal.open(i.a,{size:"lg",windowClass:"custom-size"});n.componentInstance.selectedSku=l.data.sku,n.componentInstance.selectedMarket=this.selectedMarket.marketCode,n.componentInstance.allCombined=this.allCombined,n.componentInstance.isRegion=this.isRegion,this.isRegion&&(n.componentInstance.selectedMarket=this.region),this.allCombined&&(n.componentInstance.selectedMarket="")}},l.prototype.openExpenditureModal=function(l){var n=this;if(l.data&&l.data.sku){var e=this.ngbModal.open(p.a,{size:"lg"});e.componentInstance.sku=l.data.sku,e.result.then(function(l){"success"===l&&n.gridApi.setServerSideDatasource(n.createDatasource(n.productService,n.selectedMarket))})}},l.prototype.ngOnDestroy=function(){localStorage.setItem(c.a.RESTOCK,JSON.stringify(this.columnApi.getColumnState()))},l.prototype.onMarketChange=function(l){this.selectedMarket=l,this.isRegion=!1,this.allCombined=!1,this.gridApi.setServerSideDatasource(this.createDatasource(this.productService,this.selectedMarket))},l.prototype.onRegionChange=function(l){this.isRegion=!0,this.allCombined=!1,this.region=l,this.gridApi.setServerSideDatasource(this.createDatasourceByRegion(this.productService,l))},l.prototype.onAllMarketsSelected=function(){this.allCombined=!0,this.isRegion=!1,this.selectedMarket=this.marketplaceService.getCurrentMarket(),this.gridApi.setServerSideDatasource(this.createDatasourceAllMarkets(this.productService,this.selectedMarket))},l.prototype.imageCellRenderer=function(l){return"<img border='0' class='img' width='20' height='20' style='margin-bottom: 2px' src='"+(l.value?l.value:d.a)+"'>"},l.prototype.titleCellRenderer=function(l){return'<a style="text-decoration: underline dashed;color:blue">'+(l.value?l.value:"---")+"</a>"},l.prototype.salesTrendCellRenderer=function(l){return l.value?'<i class="mr-1 fa fa-arrow-circle-'+(l.value<0?"down":"up")+'"\n                 aria-hidden="true"\n                 style="'+(l.value<0?"color: red":"color: green")+'">\n              </i>'+l.value+"%":l.value+"%"},l.prototype.reportDateRender=function(l){return"null"===l.value||null===l.value?"NA":Object(t.formatDate)(l.value,"medium","en-US")},l.prototype.reOrderDateCellRender=function(l){return this.checkIsToday(l.value)?this.translateService.instant("COMMON.TODAY"):"null"===l.value||null===l.value?"NA":Object(t.formatDate)(l.value,"mediumDate","en-US")},l.prototype.checkIsToday=function(l){return r()().isSameOrAfter(l)},l.prototype.createDatasource=function(l,n){return{getRows:function(e){l.getSkuAnalytics(s.a.generatePayload(e),n).subscribe(function(l){e.successCallback(l.rows,l.lastRow)})}}},l.prototype.createDatasourceByRegion=function(l,n){return{getRows:function(e){l.getSkuAnalyticsByRegion(s.a.generatePayload(e),n).subscribe(function(l){e.successCallback(l.rows,l.lastRow)})}}},l.prototype.createDatasourceAllMarkets=function(l,n){return{getRows:function(e){l.getSkuAnalyticsAllMarkets(s.a.generatePayload(e),n).subscribe(function(l){e.successCallback(l.rows,l.lastRow)})}}},l}()},"G/nD":function(l){l.exports=[{code:"USD",symbol:"$"},{code:"EUR",symbol:"\u20ac"},{code:"GBP",symbol:"\xa3"},{code:"MXN",symbol:"$"},{code:"CAD",symbol:"$"},{code:"INR",symbol:"\u20b9"},{code:"CNY",symbol:"\xa5"},{code:"JPY",symbol:"\xa5"},{code:"AUD",symbol:"$"}]},G2DD:function(l,n,e){"use strict";e.d(n,"a",function(){return r});var t=e("CcnG"),u=e("G/nD"),r=(e("jzsR"),function(){function l(){this.current=u[0],this.currencyChange=new t.EventEmitter,this.currencies=u}return l.prototype.ngOnInit=function(){var l=localStorage.getItem("chartCurrency");l&&(this.current=JSON.parse(l),this.currencyChange.emit(this.current))},l.prototype.onChange=function(l){this.currencyChange.emit(l),localStorage.setItem("chartCurrency",JSON.stringify(l))},l.prototype.reset=function(){this.current=u[0],this.currencyChange.emit(this.current),localStorage.removeItem("chartCurrency")},l}())},GhNK:function(l,n,e){"use strict";e.d(n,"a",function(){return a});var t=e("CcnG"),u=e("wd/R"),r=e.n(u),o=e("RIue"),a=(e("G2DD"),e("zaWK"),function(){function l(){this.showCurrency=!0,this.chartChange=new t.EventEmitter,this.chartReset=new t.EventEmitter,this.changed=!1,this.query=new o.a}return l.prototype.onRelayout=function(l){if(l["xaxis.range[0]"]&&l["xaxis.range[1]"]){var n=r()(l["xaxis.range[0]"]).format("YYYY-MM-DD"),e=r()(l["xaxis.range[1]"]).format("YYYY-MM-DD");r()(n).isValid()&&r()(e).isValid()&&(this.query.fromDate=n,this.query.toDate=e,this.changed=!0,this.chartChange.emit(this.query))}},l.prototype.onSelectedRange=function(l){var n=l.toDate;this.query.fromDate=l.fromDate,this.query.toDate=n,this.changed=!0,this.chartChange.emit(this.query)},l.prototype.onCurrencyChange=function(l){this.query.currency=l.code,this.changed=!0,this.chartChange.emit(this.query)},l.prototype.reset=function(){this.query=new o.a,this.currencyComponent&&this.currencyComponent.reset(),this.datepicker.reset(),this.changed=!1,this.chartChange.emit(this.query),this.chartReset.emit()},l}())},KDE6:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var t=function(){return function(){}}()},N1vZ:function(l,n,e){"use strict";e.d(n,"a",function(){return p});var t=e("CcnG"),u=e("Lijo"),r=e("xcmv"),o=e("oZwf"),a=e("mB2O"),i=e("4GxJ"),s=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function d(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","card-header card-header-button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h4",[["class","card-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Products"])),(l()(),t["\u0275eld"](4,0,null,null,1,"button",[["class","btn btn-raised btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.exportExcel()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Export Excel"])),(l()(),t["\u0275eld"](6,0,null,null,3,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"app-ag-grid-server-side",[],null,[[null,"gridReady"]],function(l,n,e){var t=!0;return"gridReady"===n&&(t=!1!==l.component.onGridReady(e)&&t),t},u.b,u.a)),t["\u0275did"](9,114688,null,0,r.a,[],{columnDefs:[0,"columnDefs"],frameworkComponents:[1,"frameworkComponents"],context:[2,"context"]},{gridReady:"gridReady"})],function(l,n){var e=n.component;l(n,9,0,e.columnDefs,e.frameworkComponents,e.context)},null)}function c(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-product-list",[],null,null,null,d,s)),t["\u0275did"](1,245760,null,0,o.a,[a.a,i.C],null,null)],function(l,n){l(n,1,0)},null)}var p=t["\u0275ccf"]("app-product-list",o.a,c,{},{},[])},OUnx:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var t=function(){return function(l){this.activeModal=l}}()},RIue:function(l,n,e){"use strict";e.d(n,"a",function(){return u});var t=e("NPsM"),u=function(){return function(l,n,e){void 0===l&&(l=t.a),void 0===n&&(n=t.b),void 0===e&&(e="USD"),this.fromDate=l,this.toDate=n,this.currency=e}}()},TSZb:function(l,n,e){"use strict";e.d(n,"a",function(){return p});var t=e("CcnG"),u=e("Ip0R"),r=e("OUnx"),o=e("4GxJ"),a=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function i(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275ppd"](2,3)],null,function(l,n){var e=n.component,u=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent,0),e.selectedProduct.price,e.selectedProduct.currencyCode,"symbol"));l(n,1,0,u)})}function s(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](0,null,[" "," "]))],null,function(l,n){l(n,0,0,n.component.selectedProduct.price)})}function d(l){return t["\u0275vid"](0,[t["\u0275pid"](0,u.CurrencyPipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Product Info"])),(l()(),t["\u0275eld"](4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.activeModal.close()&&t),t},null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xd7"])),(l()(),t["\u0275eld"](7,0,null,null,35,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,34,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,33,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,32,"section",[["class","list"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,4,"div",[["class","item row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"label",[["class","col-md-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["ID"])),(l()(),t["\u0275eld"](14,0,null,null,1,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),t["\u0275ted"](15,null,["",""])),(l()(),t["\u0275eld"](16,0,null,null,4,"div",[["class","item row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"label",[["class","col-md-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SKU"])),(l()(),t["\u0275eld"](19,0,null,null,1,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),t["\u0275ted"](20,null,["",""])),(l()(),t["\u0275eld"](21,0,null,null,4,"div",[["class","item row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"label",[["class","col-md-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name"])),(l()(),t["\u0275eld"](24,0,null,null,1,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),t["\u0275ted"](25,null,["",""])),(l()(),t["\u0275eld"](26,0,null,null,4,"div",[["class","item row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,1,"label",[["class","col-md-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Category"])),(l()(),t["\u0275eld"](29,0,null,null,1,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),t["\u0275ted"](30,null,["",""])),(l()(),t["\u0275eld"](31,0,null,null,4,"div",[["class","item row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,1,"label",[["class","col-md-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Market Place"])),(l()(),t["\u0275eld"](34,0,null,null,1,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),t["\u0275ted"](35,null,["",""])),(l()(),t["\u0275eld"](36,0,null,null,6,"div",[["class","item row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,1,"label",[["class","col-md-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Price"])),(l()(),t["\u0275eld"](39,0,null,null,3,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,i)),t["\u0275did"](41,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["undefinedCurrency",2]],null,0,null,s))],function(l,n){l(n,41,0,n.component.selectedProduct.currencyCode,t["\u0275nov"](n,42))},function(l,n){var e=n.component;l(n,15,0,e.selectedProduct.id),l(n,20,0,e.selectedProduct.sku),l(n,25,0,e.selectedProduct.title),l(n,30,0,e.selectedProduct.category),l(n,35,0,e.selectedProduct.marketPlace)})}function c(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-product-details-modal",[],null,null,null,d,a)),t["\u0275did"](1,49152,null,0,r.a,[o.d],null,null)],null,null)}var p=t["\u0275ccf"]("app-product-details-modal",r.a,c,{},{},[])},UKXh:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var t=function(){function l(){}return l.prototype.agInit=function(l){this.params=l},l.prototype.invokeParentMethod=function(){this.params.context.componentParent.openExpenditureModal(this.params)},l.prototype.refresh=function(){return!1},l}()},UYnB:function(l,n,e){"use strict";e.d(n,"a",function(){return t}),e("Flr7"),e("oZwf");var t=function(){return function(){}}()},Utkp:function(l,n,e){"use strict";var t=e("CcnG"),u=e("4GxJ"),r=e("Ip0R"),o=e("qrmX"),a=function(){function l(l){this.marketplaceService=l,this.selected="Make a selection",this.marketChange=new t.EventEmitter,this.regionChange=new t.EventEmitter,this.clickAllMarkets=new t.EventEmitter,this.regions=[{label:"Amazon North America",value:"northAmerica"},{label:"Amazon Europe",value:"europe"}]}return l.prototype.ngOnInit=function(){this.availableMarketplaces=this.marketplaceService.getAvailableMarket()},l.prototype.onMarketChange=function(l){this.selected=l.label,this.marketChange.emit(l)},l.prototype.onRegionChange=function(l){this.selected=l.label,this.regionChange.emit(l.value)},l.prototype.onCombinationChange=function(){this.selected="All",this.clickAllMarkets.emit()},l}(),i=t["\u0275crt"]({encapsulation:0,styles:[["label[_ngcontent-%COMP%]{font-weight:500}"]],data:{}});function s(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"a",[["class","dropdown-item py-1 lang px-1"],["href","javascript:;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onMarketChange(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"img",[["class","pr-1"]],[[8,"src",4]],null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "]))],null,function(l,n){l(n,2,0,t["\u0275inlineInterpolate"](1,"",n.context.$implicit.flag,"")),l(n,3,0,n.context.$implicit.label)})}function d(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"a",[["class","dropdown-item py-1 lang px-1"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRegionChange(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,function(l,n){l(n,2,0,n.context.$implicit.label)})}function c(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,23,"div",[["class","d-flex flex-row market-filter"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,22,"div",[["class","region mr-1"],["ngbDropdown",""]],[[2,"show",null]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],function(l,n,e){var u=!0;return"keydown.ArrowUp"===n&&(u=!1!==t["\u0275nov"](l,2).onKeyDown(e)&&u),"keydown.ArrowDown"===n&&(u=!1!==t["\u0275nov"](l,2).onKeyDown(e)&&u),"keydown.Home"===n&&(u=!1!==t["\u0275nov"](l,2).onKeyDown(e)&&u),"keydown.End"===n&&(u=!1!==t["\u0275nov"](l,2).onKeyDown(e)&&u),u},null,null)),t["\u0275did"](2,737280,null,3,u.u,[t.ChangeDetectorRef,u.w,r.DOCUMENT,t.NgZone,t.ElementRef,t.Renderer2],null,null),t["\u0275qud"](335544320,1,{_menu:0}),t["\u0275qud"](335544320,2,{_menuElement:0}),t["\u0275qud"](335544320,3,{_anchor:0}),(l()(),t["\u0275eld"](6,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-outline-primary mb-0 ml-1 dropdown-toggle"],["id","dropdown-region"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,7).toggleOpen()&&u),u},null,null)),t["\u0275did"](7,16384,null,0,u.z,[u.u,t.ElementRef],null,null),t["\u0275prd"](2048,[[3,4]],u.v,null,[u.z]),(l()(),t["\u0275ted"](9,null,["",""])),(l()(),t["\u0275eld"](10,0,[[2,0]],null,13,"div",[["aria-labelledby","dropdown-region"],["class","dropdown-region text-left"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](11,16384,[[1,4]],1,u.x,[u.u,t.ElementRef,t.Renderer2],null,null),t["\u0275qud"](603979776,4,{menuItems:1}),(l()(),t["\u0275and"](16777216,null,null,2,null,s)),t["\u0275did"](14,278528,null,0,r.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](16,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"label",[["class","ml-1"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Region"])),(l()(),t["\u0275and"](16777216,null,null,1,null,d)),t["\u0275did"](20,278528,null,0,r.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](21,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"a",[["class","dropdown-item py-1 lang px-1"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCombinationChange()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["All Marketplaces"]))],function(l,n){var e=n.component;l(n,2,0),l(n,14,0,t["\u0275unv"](n,14,0,t["\u0275nov"](n,15).transform(e.availableMarketplaces))),l(n,20,0,e.regions)},function(l,n){var e=n.component;l(n,1,0,t["\u0275nov"](n,2).isOpen()),l(n,6,0,t["\u0275nov"](n,7).dropdown.isOpen()),l(n,9,0,e.selected),l(n,10,0,!0,t["\u0275nov"](n,11).dropdown.isOpen(),t["\u0275nov"](n,11).placement)})}var p=e("Lijo"),h=e("xcmv"),m=e("Flr7"),f=e("mB2O"),g=e("A7o+");e.d(n,"a",function(){return b});var v=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["style","height: 100%; padding-top: 26px; box-sizing: border-box;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,7,"div",[["class","card-header card-header-button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","card-title"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Restocking for"])),(l()(),t["\u0275eld"](6,0,null,null,1,"app-market-region-filter",[["class","mr-1"]],null,[[null,"marketChange"],[null,"regionChange"],[null,"clickAllMarkets"]],function(l,n,e){var t=!0,u=l.component;return"marketChange"===n&&(t=!1!==u.onMarketChange(e)&&t),"regionChange"===n&&(t=!1!==u.onRegionChange(e)&&t),"clickAllMarkets"===n&&(t=!1!==u.onAllMarketsSelected()&&t),t},c,i)),t["\u0275did"](7,114688,null,0,a,[o.a],null,{marketChange:"marketChange",regionChange:"regionChange",clickAllMarkets:"clickAllMarkets"}),(l()(),t["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-raised btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.exportExcel()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Export Excel"])),(l()(),t["\u0275eld"](10,0,null,null,3,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"app-ag-grid-server-side",[],null,[[null,"gridReady"]],function(l,n,e){var t=!0;return"gridReady"===n&&(t=!1!==l.component.onGridReady(e)&&t),t},p.b,p.a)),t["\u0275did"](13,114688,null,0,h.a,[],{columnDefs:[0,"columnDefs"],paginationPageSize:[1,"paginationPageSize"],frameworkComponents:[2,"frameworkComponents"],context:[3,"context"]},{gridReady:"gridReady"})],function(l,n){var e=n.component;l(n,7,0),l(n,13,0,e.columnDefs,20,e.frameworkComponents,e.context)},null)}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-inventory-replenishment",[],null,null,null,y,v)),t["\u0275did"](1,245760,null,0,m.a,[f.a,g.i,u.C,o.a],null,null)],function(l,n){l(n,1,0)},null)}var b=t["\u0275ccf"]("app-inventory-replenishment",m.a,C,{},{},[])},cLqD:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var t=function(){return function(){}}()},"dw3/":function(l,n,e){"use strict";e.d(n,"a",function(){return t});var t=function(){return function(){this.firstBlockIsShow=!1,this.secondBlockIsShow=!1}}()},hJYS:function(l,n,e){"use strict";var t=e("CcnG"),u=e("Ip0R");e("dw3/"),e.d(n,"a",function(){return r}),e.d(n,"b",function(){return i});var r=t["\u0275crt"]({encapsulation:0,styles:[[".summary[_ngcontent-%COMP%]{position:absolute;top:0;right:14px}.summary[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;font-weight:500;letter-spacing:.03rem}.summary[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:15px}.summary[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:first-child   .total[_ngcontent-%COMP%]{color:#00f}.summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:green;font-weight:500;border-top:1.5px solid #716b6b}"]],data:{}});function o(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","block p-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p",[["class","title mt-1 mb-0"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,3,"p",[["class","date"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[""," - ",""])),t["\u0275ppd"](5,2),t["\u0275ppd"](6,2),(l()(),t["\u0275eld"](7,0,null,null,2,"h5",[["class","total pt-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),t["\u0275ppd"](9,1)],null,function(l,n){var e=n.component;l(n,2,0,e.firstBlockData.title);var u=t["\u0275unv"](n,4,0,l(n,5,0,t["\u0275nov"](n.parent,0),e.firstBlockData.from,"mediumDate")),r=t["\u0275unv"](n,4,1,l(n,6,0,t["\u0275nov"](n.parent,0),e.firstBlockData.to,"mediumDate"));l(n,4,0,u,r);var o=t["\u0275unv"](n,8,0,l(n,9,0,t["\u0275nov"](n.parent,1),e.firstBlockData.total));l(n,8,0,o)})}function a(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","block p-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p",[["class","title mt-1 mb-0"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,3,"p",[["class","date"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[""," - ",""])),t["\u0275ppd"](5,2),t["\u0275ppd"](6,2),(l()(),t["\u0275eld"](7,0,null,null,2,"h5",[["class","total pt-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),t["\u0275ppd"](9,1)],null,function(l,n){var e=n.component;l(n,2,0,e.secondBlockData.title);var u=t["\u0275unv"](n,4,0,l(n,5,0,t["\u0275nov"](n.parent,0),e.secondBlockData.from,"mediumDate")),r=t["\u0275unv"](n,4,1,l(n,6,0,t["\u0275nov"](n.parent,0),e.secondBlockData.to,"mediumDate"));l(n,4,0,u,r);var o=t["\u0275unv"](n,8,0,l(n,9,0,t["\u0275nov"](n.parent,1),e.secondBlockData.total));l(n,8,0,o)})}function i(l){return t["\u0275vid"](0,[t["\u0275pid"](0,u.DatePipe,[t.LOCALE_ID]),t["\u0275pid"](0,u.DecimalPipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](2,0,null,null,5,"div",[["class","row summary"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","col-md-12 d-flex flex-row"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,o)),t["\u0275did"](5,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,a)),t["\u0275did"](7,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,5,0,e.firstBlockIsShow),l(n,7,0,e.secondBlockIsShow)},null)}},iMlt:function(l,n,e){"use strict";e.d(n,"a",function(){return r});var t=e("ny24"),u=e("K9Ia"),r=(e("mB2O"),function(){function l(l,n,e){this.activeModal=l,this.productService=n,this.toastrService=e,this.destroy$=new u.a}return l.prototype.ngOnInit=function(){var l=this;this.productService.getProductBySku({sku:this.sku,marketPlace:this.fromMarket}).pipe(Object(t.a)(this.destroy$)).subscribe(function(n){return l.product=n})},l.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},l.prototype.onSave=function(){var l=this;this.productService.updateInventory(this.product).pipe(Object(t.a)(this.destroy$)).subscribe(function(){l.toastrService.success("Successfully saved your changes!"),l.activeModal.close("success")},function(){return l.toastrService.error("Uh oh! Something went wrong and we could not save your changes.\n          If this issue persists please contact our support team")})},l}())},jzsR:function(l,n,e){"use strict";e.d(n,"a",function(){return u});var t=e("G/nD"),u=function(){function l(){}return l.getSymbol=function(n){var e=t.find(function(l){return l.code===n});return e?e.symbol:l.getDefaultSymbol()},l.getDefaultSymbol=function(){return"$"},l}()},nDRe:function(l,n,e){"use strict";var t=e("CcnG"),u=e("UKXh");e.d(n,"a",function(){return i});var r=t["\u0275crt"]({encapsulation:0,styles:[["a[_ngcontent-%COMP%]{font-size:17px;line-height:25px}"]],data:{}});function o(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.invokeParentMethod()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null))],null,null)}function a(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-edit-cell",[],null,null,null,o,r)),t["\u0275did"](1,49152,null,0,u.a,[],null,null)],null,null)}var i=t["\u0275ccf"]("app-edit-cell",u.a,a,{},{},[])},oZwf:function(l,n,e){"use strict";e.d(n,"a",function(){return s}),e("mB2O");var t=e("LvDl"),u=e("vKop"),r=e("faHK"),o=e("OUnx"),a=e("xcmv"),i=e("zKJm"),s=function(){function l(l,n){this.productService=l,this.modal=n}return l.prototype.ngOnInit=function(){this.columnDefs=[{width:50,filter:!1,sortable:!1,cellRenderer:"viewDetailsRenderer"},{headerName:"SKU",field:"sku",filter:"agTextColumnFilter",filterParams:{filterOptions:["equals","contains"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Image",field:"orderId",width:50,filter:!1,sortable:!1,cellRenderer:this.imageCellRenderer,hide:!0},{headerName:"Title",field:"title",filter:"agTextColumnFilter",width:250,filterParams:{filterOptions:["equals","contains"],newRowsAction:"keep",suppressAndOrCondition:!0},cellRenderer:this.titleCellRenderer,onCellClicked:this.viewDetailsModal.bind(this)},{headerName:"Category",field:"category",filter:"agTextColumnFilter",filterParams:{filterOptions:["equals","contains"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Brand Name",field:"brand",filter:"agTextColumnFilter",filterParams:{filterOptions:["equals","contains"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Product ID",field:"productId",filter:"agTextColumnFilter",filterParams:{filterOptions:["equals","contains"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"30 Day Sales",field:"estSales",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Weight",field:"weight",cellRenderer:this.weightCellRender,filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Inventory Quantity",field:"inventoryQuantity",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Selling Fees",field:"sellingFees",cellRenderer:this.sellingFeesCellRender,filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Price",field:"price",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0}},{headerName:"Inventory Cycle Time",field:"cycleTime",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Supplier Lead Time",field:"leadTime",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0},{headerName:"Safety Stock",field:"safetyStock",filter:"agNumberColumnFilter",filterParams:{filterOptions:["equals","lessThan","greaterThan"],newRowsAction:"keep",suppressAndOrCondition:!0},hide:!0}],this.frameworkComponents={viewDetailsRenderer:u.a},this.context={componentParent:this}},l.prototype.onGridReady=function(l){this.gridApi=l.api,this.columnApi=l.columnApi,this.gridApi.setServerSideDatasource(this.createDatasource(this.productService));var n=JSON.parse(localStorage.getItem(i.a.PRODUCTS));n&&this.columnApi.setColumnState(n)},l.prototype.exportExcel=function(){this.gridApi.exportDataAsExcel()},l.prototype.ngOnDestroy=function(){localStorage.setItem(i.a.PRODUCTS,JSON.stringify(this.columnApi.getColumnState()))},l.prototype.viewDetailsModal=function(l){l.data&&(this.modal.open(o.a,{size:"lg"}).componentInstance.selectedProduct=l.data)},l.prototype.createDatasource=function(l){return{getRows:function(n){l.getInventory(a.a.generatePayload(n)).subscribe(function(l){n.successCallback(l.rows,l.lastRow)})}}},l.prototype.imageCellRenderer=function(l){return"<img border='0' class='img' width='20' height='20' style='margin-bottom: 2px' src='"+Object(r.b)(l.value,"SL")+"'>"},l.prototype.weightCellRender=function(l){return Object(t.round)(l.value,2).toString()},l.prototype.titleCellRenderer=function(l){return'<a style="text-decoration: underline dashed;color:blue">'+(l.value?l.value:"---")+"</a>"},l.prototype.sellingFeesCellRender=function(l){return""+Math.round(100*l.value)/100},l}()},"yp/V":function(l,n,e){"use strict";e.d(n,"a",function(){return a});var t=e("AytR"),u=e("MDp5"),r=e("CcnG"),o=e("t/Na"),a=function(){function l(l){this.http=l,this.resource=""+t.a.apiHost,this.currentMarket=JSON.parse(localStorage.getItem(u.a.CurrentMarket))}return l.prototype.getMyRevenues=function(l,n,e){return this.http.post(this.resource+"/getMyRevenues?sort=reportDate,asc",{sku:l,marketPlace:this.currentMarket.marketCode,fromDate:n,toDate:e})},l.prototype.getMySales=function(l,n,e,t,u,r){return this.http.post(this.resource+"/getMyTotalSales?sort=reportDate,asc",{sku:l,marketPlace:t,fromDate:n,allCombined:r,region:u,toDate:e})},l.prototype.revenueByMarketPlace=function(l,n){return this.http.post(this.resource+"/revenueByMarketPlace",l,{params:n,observe:"response"})},l.prototype.getMyTotalRevenues=function(l){return this.http.get(this.resource+"/getMyTotalRevenues/"+this.currentMarket.marketCode,{params:l})},l.prototype.getMyTotalRevenuesForecast=function(l){return this.http.get(this.resource+"/getMyTotalRevenuesForecast/"+this.currentMarket.marketCode,{params:l})},l.prototype.getMyTotalRevenuesBySku=function(l){return this.http.get(this.resource+"/getMyTotalRevenuesBysku/"+this.currentMarket.marketCode,{params:l})},l.ngInjectableDef=r.defineInjectable({factory:function(){return new l(r.inject(o.c))},token:l,providedIn:"root"}),l}()}}]);